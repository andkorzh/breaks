# Обзор APU

**APU** - неофициальное название специализированного центрального процессора NES.

Официальное название - MPU (Microprocessor Unit) или просто CPU, но мы будем придерживаться неофициального термина. Иногда ещё APU встречается под аббревиатурой "pAPU".

Разработкой микросхемы занималась [Ricoh](../Ricoh.md), кодовое обозначение - RP 2A03 для NTSC и RP 2A07 для PAL.

В состав APU входят:
- ядро процессора MOS 6502, с отключенной схемой десятичной коррекции (BCD)
- DMA для отправки спрайтов (жестко настроено на внешние регистры PPU)
- тональные генераторы: 2 прямоугольных, треугольный, генератор шума и delta-PCM.
- ЦАПы для преобразования цифровых выходов синтезированного звука в аналоговые уровни
- DMA для выборки DPCM-семплов
- небольшой DMA-контроллер
- низкочастотный осциллятор ("Frame counter")
- делитель входной тактовой частоты
- порты ввода-вывода (которые в NES используются для получения данных с контроллеров)
- отладочные регистры (недоступные в Retail-консолях)

Наличие ЦАП переводит APU в разряд полуаналоговых схем, но для симуляции можно использовать цифровые выходы тональных генераторов.

Также необходимо принимать в расчёт тот факт, что ядро 6502, входящее в состав APU находится под управлением DMA-контроллера и соответственно является "рядовым" устройством, разделяющим шину с другими устройствами, использующими DMA.

<img src="/BreakingNESWiki/imgstore/apu/apu_blocks.jpg" width="900px">

## Примечание по транзисторным схемам

Транзисторные схемы каждого компонента напилены на составные части, чтобы не занимали много места.

Чтобы вы не заблудились, каждый раздел включает в начале специальный "локатор", где отмечено приблизительное расположение изучаемого компонента.

Пример локатора:

![apu_locator_dma](/BreakingNESWiki/imgstore/apu/apu_locator_dma.jpg)
