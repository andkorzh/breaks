# Шина данных

![6502_locator_data](/BreakingNESWiki/imgstore/6502_locator_data.jpg)

Схемы для работы с внешней шиной данных состоят из 8 одинаковых кусков:

![6502_data_bit_tran](/BreakingNESWiki/imgstore/6502_data_bit_tran.jpg)

(Показана схема для разряда 0, остальные аналогично)

- DOR: Защелка DOR хранит выходное значение которое будет размещено на контактах шины D0-D7. Если RD=1 - комплементарные выходные линии с DOR отрубаются, таким образом вся выходная часть становится floating.
- DL: Защелка DL хранит входное значение
- Рядом с контрольным сигналом `DL/DB` можно заметить precharge транзистор для внутренней шины DB

Контрольные сигналы:
- DL/ADL: Поместить значение защелки DL на внутреннюю шину ADL
- DL/ADH: Поместить значение защелки DL на внутреннюю шину ADH
- DL/DB: В режиме чтения (RD=1) значение с защелки DL помещается на внутреннюю шину DB. В режиме записи (RD=0) значение с шины DB помещается на защелку DOR

Внешняя шина данных (контакты D0-D7) также напрямую соединяется со входом схемы [предекодирования](predecode.md).

## Защелка WR

С контакта R/W на схему защелки приходит контрольный сигнал `WR`. На выходе схемы контрольный сигнал `RD`, который управляет направлением внешней шины данных.

![6502_wr_latch_tran](/BreakingNESWiki/imgstore/6502_wr_latch_tran.jpg)
