# Рандомная логика

![6502_locator_random](/BreakingNESWiki/imgstore/6502_locator_random.jpg)

"Рандомная логика" - это попытка перевести англ. название "random logic". Название не имеет ничего общего со случайными числами, оно просто отражает сущность произвольным образом разбросанных там и сям схем.

Эта логика является мыслительным органом процессора и полностью определяет его поведение при обработке и выполнении инструкций.

С аппаратной точки зрения рандомная логика - это "хенд-мэйд" продукт инженеров [MOS](../MOS.md), представляющий собой месиво из транзисторов и проводов.

Полноразмерную транзисторную схему приводить тут нет необходимости, по причине того что проще будет осваивать её по составным частям.

Ниже вы можете ознакомиться со всеми функциональными блоками рандомной логики:
- [Управление регистрами](regs_control.md)
- [Управление АЛУ](alu_control.md)
- [Управление счетчиком инструкций (PC)](pc_control.md)
- [Управление шинами](bus_control.md)
- [Логика исполнения (dispatch)](dispatch.md)
- [Логика установки флагов](flags_control.md)
- [Флаги](flags.md)
- [Логика условных переходов](branch_logic.md)

## Принцип работы

В целом работа логики довольно комплексная (вы думали я опять скажу - простая? :smiley:):
- Логика исполнения (dispatch) дирижирует работой всего процессора. Она определяет когда нужно закончить выполнение инструкции, а также управляет инкрементом PC и счетчиком циклов. Дополнительно она включает в себя схему готовности процессора (RDY), которая управляется контактом RDY.
- После того, как логика исполнения начала выполнение следующей инструкции - код этой инструкции, а также текущий цикл подаются на декодер
- В зависимости от результатов декодирования схемы управления: регистрами, АЛУ, PC и шинами выдают наружу в нижнюю часть специальные [управляющие команды](context_control.md)
- Дополнительно на поведение процессора влияют его флаги, а также логика обработки прерываний. А на флаги также влияют исполняемые инструкции.

Всё это в тесной упряжке управляет нижней частью процессора, где находится его контекст (регистры), АЛУ и связь с внешним миром посредством шин.

## Вспомогательные сигналы

Данный раздел содержит таблицу вспомогательных сигналов, которыми обмениваются все части рандомной логики (для справки):

TBD: Таблица.
