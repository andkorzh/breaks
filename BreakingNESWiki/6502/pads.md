# Контакты

Изучение любой микросхемы начинается с контактов.

![6502_pads_map](/BreakingNESWiki/imgstore/6502/6502_pads_map.jpg)

![6502_pinout](/BreakingNESWiki/imgstore/6502/6502_pinout.png)

|Название|Направление|Описание|
|---|---|---|
|VCC| => 6502     |Питание +5 В|
|VSS| 6502 =>     |Земля|
|/NMI| => 6502  |Сигнал немаскируемого прерывания, active low|
|/IRQ| => 6502  |Сигнал маскируемого прерывания, active low|
|/RES| => 6502  |Сигнал сброса, active low|
|PHI0| => 6502 |Опорный тактовый сигнал|
|PHI1| 6502 =>  |Первый полутакт, процессор в режиме `Set address+RW`|
|PHI2| 6502 => |Второй полутакт, процессор в режиме `Read/Write Data`|
|RDY| => 6502 |Готовность процессора (1: готов)|
|SO| => 6502 |Принудительная установка флага переполнения (V)|
|R/W| 6502 => |Направление шины данных (R/W=1: процессор читает данные, R/W=0: процессор записывает)|
|SYNC| 6502 => |Процессор находится на цикле T1 (выборка кода операции)|
|A0-A15| 6502 => |Адресная шина|
|D0-D7| 6502 <=> |Шина данных (двунаправленная)|
|N.C.| -- |Не подсоединен|

## VDD/VSS

Из официального даташита известно, что рабочий диапазон VDD = +5.0 вольт +/- 5%.

## Генератор тактовой частоты

Описание тактовых сигналов вынесено в отдельный раздел (см. [генератор тактовых сигналов](clock.md)).

## /NMI, /IRQ, /RES

![intpads_trans](/BreakingNESWiki/imgstore/6502/intpads_trans.jpg)

Каждая схема терминала содержит FF, на котором хранится событие прихода прерывания. Значение FF соответствует контрольным сигналам `/NMIP`, `/IRQP` и `RESP` (значение с FF для терминала /RES выдается в прямом виде).

"P" в названии контрольных сигналов означает "Pad" (bonding pad).

:warning: Обратите внимание что для NMI и IRQ FF используется выход `Q`, а для RES FF используется выход `#Q`. Схема FF представляет собой циклически замкнутые элементы AOI-21.

![int_ff](/BreakingNESWiki/imgstore/6502/int_ff.png)

## RDY

|![rdy_tran](/BreakingNESWiki/imgstore/6502/rdy_tran.jpg)|![rdy_nice](/BreakingNESWiki/imgstore/6502/rdy_nice.jpg)|
|---|---|

Контакт RDY идёт на внутренний сигнал  `RDY`, а также через цепочку задержки из DLATCH как сигнал `/PRDY` ("Previous Ready").
/PRDY идёт на вход [декодера](decoder.md) `Branch T0`.

Контакт RDY может быть использован для временной приостановки работы процессора, например пока внешнее устройство совершает DMA.

## SYNC

|![sync_tran](/BreakingNESWiki/imgstore/6502/sync_tran.jpg)|![sync_nice](/BreakingNESWiki/imgstore/6502/sync_nice.jpg)|
|---|---|

Сигнал SYNC выходит с внутреннего сигнала T1 (выборка кода операции).

## SO

![so_tran](/BreakingNESWiki/imgstore/6502/so_tran.jpg)

Внутренний сигнал `SO` подается на вход [флага V](flags.md) для обработки управляющего сигнала `1/V`.

## R/W

![rw_tran](/BreakingNESWiki/imgstore/6502/rw_tran.jpg)

Сигнал `WR` приходит из [диспатчера](dispatch.md) и определяет режим работы процессора (WR:1 - процессор записывает данные, WR:0 - процессор читает данные).

## Адресная шина

См. [Адресная шина](address_bus.md).

## Шина данных

См. [Шина данных](data_bus.md).

## Оптимизированные логические схемы

![19_pads](/BreakingNESWiki/imgstore/6502/ttlworks/19_pads.png)
